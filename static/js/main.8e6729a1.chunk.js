(this["webpackJsonpshopping-list"]=this["webpackJsonpshopping-list"]||[]).push([[0],{11:function(e){e.exports=JSON.parse('[{"title":"sugar","number":4,"price":13},{"title":"onion","number":9,"price":5},{"title":"package","number":1,"price":3}]')},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(9),a=n.n(r),s=n(3),i=n(6),o=n(2),l=(n(16),n(0)),u=function(e){var t=e.title,n=e.price,c=e.number,r=e.removeGoods,a=e.changeNumber;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"row",children:t}),Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"number",className:"number-input",name:t,min:"1",value:c,required:!0,onChange:a.bind(undefined,t)})}),Object(l.jsx)("td",{children:n}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{onClick:function(){return r(t)},type:"button",className:"btn-close"})})]})},b=function(e){var t=e.goods,n=e.removeGoods,c=e.sortByTitle,r=e.sortByPrice,a=e.sortByN,s=e.changeNumber;return Object(l.jsxs)("table",{className:"table table-hover",children:[Object(l.jsx)("thead",{className:"table-dark",children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",children:Object(l.jsx)("button",{className:"btn btn-light",onClick:c,type:"button",children:"Title"})}),Object(l.jsx)("th",{scope:"col",children:Object(l.jsx)("button",{className:"btn btn-light",onClick:a,type:"button",children:"N"})}),Object(l.jsx)("th",{scope:"col",children:Object(l.jsx)("button",{className:"btn btn-light",onClick:r,type:"button",children:"Cost"})}),Object(l.jsx)("th",{scope:"col"})]})}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(u,Object(o.a)(Object(o.a)({},e),{},{removeGoods:n,changeNumber:s}),e.title)}))})]})},j=n(4),d=(n(18),n(10)),O=n.n(d),h=/^[a-zA-Z]+$/,m=function(e){var t=e.name,n=e.changeValue,c=e.value,r=e.error,a=e.saveValue,s=O()("form-control",{"is-invalid":r});return Object(l.jsxs)("div",{className:"col-auto",children:["number"===t?Object(l.jsxs)("label",{children:[t,Object(l.jsx)("input",{type:"number",className:s,id:"quantity",name:"quantity",min:"1",placeholder:t,value:c,required:!0,onChange:function(e){return n(e,t)}})]}):"title"===t?Object(l.jsx)("textarea",{className:s,id:t,placeholder:t,value:c,required:!0,onChange:function(e){return n(e,t)},onBlur:function(){c?"title"!==t||h.test(c)?a(t):a(t,"Please add correct ".concat(t)):a(t,"Please add ".concat(t))}}):Object(l.jsxs)("label",{children:[t,Object(l.jsx)("input",{type:"number",className:s,id:"quantity",name:"quantity",step:"0.01",min:"0",placeholder:t,value:c,required:!0,onChange:function(e){return n(e,t)}})]}),Object(l.jsx)("div",{className:"invalid-feedback",children:r})]})},p=(n(19),{title:"",number:0,price:0}),f=function(e){var t=e.addGoods,n=Object(c.useState)(p),r=Object(i.a)(n,2),a=r[0],s=r[1],u=Object(c.useState)(p),b=Object(i.a)(u,2),d=b[0],O=b[1];function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";s((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(j.a)({},e,t[e]))})),O((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(j.a)({},e,t))}))}function f(e,t){var n=e.target.value;s((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},t,n))}))}return Object(l.jsxs)("form",{className:"form row gy-2 gx-3 align-items-center",onSubmit:function(e){e.preventDefault(),Object.values(d).every((function(e){return!e}))&&Object.values(a).every((function(e){return e}))&&(t(Object(o.a)({},a)),s(p),O(p))},children:[Object.keys(a).map((function(e){return Object(l.jsx)(m,{name:e,value:a[e],error:d[e],changeValue:f,saveValue:h},e)})),Object(l.jsx)("button",{type:"submit",className:"button btn btn-outline-secondary",children:"add new goods"})]})},x=n(11),v=function(){var e=Object(c.useState)(x),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("h2",{className:"display-6",children:"Add goods"}),Object(l.jsx)(f,{addGoods:function(e){r([].concat(Object(s.a)(n),[e]))}})]}),Object(l.jsx)("div",{className:"row",children:n.length?Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{className:"display-4",children:"Shopping cart"}),Object(l.jsx)(b,{goods:n,removeGoods:function(e){var t=n.filter((function(t){return t.title!==e}));r(Object(s.a)(t))},sortByTitle:function(){var e=Object(s.a)(n).sort((function(e,t){return e.title.localeCompare(t.title)}));r(e)},sortByN:function(){var e=Object(s.a)(n).sort((function(e,t){return t.number-e.number}));r(e)},sortByPrice:function(){var e=Object(s.a)(n).sort((function(e,t){return t.price-e.price}));r(e)},changeNumber:function(e,t){for(var c=Object(s.a)(n),a=0;a<c.length;a+=1)c[a].title===t.target.name&&(c[a].number=Number(t.target.value));r(c)}}),Object(l.jsx)("button",{onClick:function(){r([])},type:"button",className:"btn btn-outline-secondary",children:"Clear"})]}),Object(l.jsxs)("h4",{className:"display-6 sum",children:["Sum:",n.reduce((function(e,t){return e+t.number*t.price}),0)]})]}):Object(l.jsx)("h4",{className:"display-4",children:"Add your goods"})})]})};a.a.render(Object(l.jsx)(v,{}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.8e6729a1.chunk.js.map